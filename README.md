# Splines

Добро пожаловать в проект по безье-сплайнам! Этот проект предоставляет простой и удобный способ создания и визуализации безье-сплайнов с использованием собственной высокоуровневой библиотеки визуализации [`TESTWIN32APP_GRAPHICAPP`](https://github.com/quqveik1/TESTWIN32_GRAPHICAPP).

## Возможности программы
- Пользователь может нажимать на экран и задавать опорные точки для сплайнов.
- Если пользователь ошибся он может очистить экран и выбрать новые опорные точки

<img src="https://user-images.githubusercontent.com/64206443/235349246-40d57425-71fa-4c71-8611-0360a097dc5b.png" width="600">


## Технические компоненты

Проект состоит из двух основных классов:

### 1. SplineArr

`SplineArr` - это класс, который хранит ключевые точки сплайна и предоставляет функции для работы с ними.
Главная идея класс заключается в том, что он умеет генерировать промежуточные точки, если передавать нецелые числа в operator[]. Если передавать вызывать operator[] с целыми значениями,
то будут возвращаться опорные точки. 

- `keyPoints`: вектор ключевых точек сплайна
- `calcPoint(double dindex)`: расчет точки на сплайне с использованием дробного индекса
- `size() const`: возвращает количество ключевых точек сплайна
- `push(Vector point)`: добавляет новую ключевую точку в сплайн
- `sortedPush(Vector point)`: добавляет новую ключевую точку в сплайн и сортирует точки
- `sort()`: сортирует ключевые точки сплайна
- `clear()`: очищает сплайн (удаляет все ключевые точки)
- `operator[](size_t index)`: возвращает ссылку на ключевую точку с указанным индексом
- `operator[](double dindex)`: возвращает точку сплайна с использованием дробного индекса

### 2. SplineControl

`SplineControl` является производным от [`MultiLayCoordinatSystemWindow`](https://github.com/quqveik1/TESTWIN32_GRAPHICAPP/blob/main/MultiLayCoordinatSystemWindow.h) и предоставляет функциональность для взаимодействия с пользователем и управления визуализацией безье-сплайнов. Он содержит следующие свойства и методы:

- `splineArr`: объект `SplineArr`, содержащий ключевые точки сплайна
- `keyPointsColor`: цвет ключевых точек
- `keyPointsLayIndex`: индекс слоя, на котором будут отображаться ключевые точки
- `keyPointsR`: радиус ключевых точек
- `interPolDelta`: дельта интерполяции для рисования сплайнов
- `SplineControl(AbstractAppData* _app)`: конструктор класса
- `updateScreenPoints()`: обновляет экранные точки на основе текущих ключевых точек сплайна
- `pushStartPoints()`: добавляет начальные точки для демонстрации
- `onClick(Vector mp)`: обработчик события нажатия мыши
- `onMessageRecieve(const char* name, void* data)`: обработчик сообщений выбора опорных точек

--------------------------
# Инструкция по запуску(НЕ СБОРКЕ) приложения на Windows. 
- Требования: Для полноценной работы программы необходима Windows 7.
- Скачайте приложение по ссылке https://github.com/quqveik1/Splines/releases/latest
- Запустите скачавшийся файл .exe, игнорируйте предупреждения антивируса о том, что программа опасна.
В данном окне следует нажать на эту кнопку.

<img src="https://user-images.githubusercontent.com/64206443/182945554-ed4d18c6-a25d-4d0d-a331-e268643b3031.png" width="400">

- Откроется установщик программы, следуйте его указаниям.


